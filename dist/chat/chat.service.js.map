{"version":3,"file":"chat.service.js","sourceRoot":"","sources":["../../src/chat/chat.service.ts"],"names":[],"mappings":"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"}